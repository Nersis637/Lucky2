<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>–†–µ–∑—É–ª—å—Ç–∞—Ç –ø—Ä–æ–≥–Ω–æ–∑–∞</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="/forecast.css">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
<div class="header">
  <button onclick="location.href='/forecast'">–ù–∞–∑–∞–¥</button>
  <h1 class="centered-title">–†–µ–∑—É–ª—å—Ç–∞—Ç –ø—Ä–æ–≥–Ω–æ–∑–∞</h1>
</div>

<div class="button-group-top-left">
  <button onclick="location.href='/previous-matches?team1=' + encodeURIComponent(team1) + '&team2=' + encodeURIComponent(team2)">
    –ü—Ä–µ–¥—ã–¥—É—â–∏–µ –º–∞—Ç—á–∏
  </button>
</div>

<div class="forecast-result">
  <div class="team-column">
    <h2 id="team1-name"></h2>
    <img id="team1-logo" class="team-logo" src="" alt="–õ–æ–≥–æ—Ç–∏–ø –∫–æ–º–∞–Ω–¥—ã 1">
    <p id="team1-win"></p>
  </div>
  <div class="draw-column">
    <div class="draw-icon">:</div>
    <p id="draw-value"></p>
  </div>
  <div class="team-column">
    <h2 id="team2-name"></h2>
    <img id="team2-logo" class="team-logo" src="" alt="–õ–æ–≥–æ—Ç–∏–ø –∫–æ–º–∞–Ω–¥—ã 2">
    <p id="team2-win"></p>
  </div>
</div>

<div class="top-grid">
  <div class="forecast-chart-block">
    <canvas id="forecastChart"></canvas>
  </div>

  <div class="comparison-block">
    <h2>–°—Ä–∞–≤–Ω–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥</h2>
    <canvas id="comparisonChart"></canvas>
  </div>

  <div class="details-block">
    <h2>–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–µ—Ä–µ–¥–∞—á</h2>
    <canvas id="detailChart"></canvas>
  </div>
</div>

<div class="bottom-grid">
  <div class="attacks-block">
    <h2>–ê—Ç–∞–∫–∏ –∏ –Ω–∞–≤–µ—Å—ã</h2>
    <canvas id="attackChart"></canvas>
  </div>

  <div class="analysis-block">
    <div class="team-form-text">
      <h2 id="team1-form-title"></h2>
      <p id="team1-form"></p>
    </div>
    <div class="team-form-text">
      <h2 id="team2-form-title"></h2>
      <p id="team2-form"></p>
    </div>
  </div>

  <div class="metric-info">
    <h2>–ß—Ç–æ —Ç–∞–∫–æ–µ xG –∏ PPDA?</h2>
    <div class="metric-description">
      <div class="metric-card">
        <h3>xG ‚Äî –û–∂–∏–¥–∞–µ–º—ã–µ –≥–æ–ª—ã</h3>
        <p>xG ‚Äî —ç—Ç–æ –º–µ—Ç—Ä–∏–∫–∞, –ø–æ–∫–∞–∑—ã–≤–∞—é—â–∞—è, –Ω–∞—Å–∫–æ–ª—å–∫–æ –æ–ø–∞—Å–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã —Å–æ–∑–¥–∞–ª–∞ –∫–æ–º–∞–Ω–¥–∞. –û–Ω–∞ —É—á–∏—Ç—ã–≤–∞–µ—Ç —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ –¥–æ –≤–æ—Ä–æ—Ç, —É–≥–æ–ª —É–¥–∞—Ä–∞, –ø–æ–ª–æ–∂–µ–Ω–∏–µ –∑–∞—â–∏—Ç–Ω–∏–∫–æ–≤ –∏ –¥—Ä—É–≥–∏–µ —Ñ–∞–∫—Ç–æ—Ä—ã. –ß–µ–º –≤—ã—à–µ xG, —Ç–µ–º –±–æ–ª—å—à–µ –∫–æ–º–∞–Ω–¥–∞ –¥–æ–ª–∂–Ω–∞ –±—ã–ª–∞ –∑–∞–±–∏—Ç—å –ø–æ –ª–æ–≥–∏–∫–µ –º–∞—Ç—á–∞.</p>
      </div>
      <div class="metric-card">
        <h3>PPDA ‚Äî –ü–∞—Å—ã –¥–æ –∞–∫—Ç–∏–≤–Ω–æ–≥–æ –æ—Ç–±–æ—Ä–∞</h3>
        <p>PPDA –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç, –Ω–∞—Å–∫–æ–ª—å–∫–æ –∞–∫—Ç–∏–≤–Ω–æ –∫–æ–º–∞–Ω–¥–∞ –ø—Ä–µ—Å—Å–∏–Ω–≥—É–µ—Ç —Å–æ–ø–µ—Ä–Ω–∏–∫–∞. –ß–µ–º –Ω–∏–∂–µ PPDA, —Ç–µ–º –∞–≥—Ä–µ—Å—Å–∏–≤–Ω–µ–µ –ø—Ä–µ—Å—Å–∏–Ω–≥ ‚Äî –∫–æ–º–∞–Ω–¥–∞ –Ω–µ –¥–∞—ë—Ç —Ä–∞–∑—ã–≥—Ä—ã–≤–∞—Ç—å –º—è—á. –í—ã—Å–æ–∫–∏–π PPDA –≥–æ–≤–æ—Ä–∏—Ç –æ –±–æ–ª–µ–µ –ø–∞—Å—Å–∏–≤–Ω–æ–π –æ–±–æ—Ä–æ–Ω–µ.</p>
      </div>
    </div>
  </div>
  <div class="floating-chat">
    <h2>–û–±—Å—É–∂–¥–µ–Ω–∏–µ –ø—Ä–æ–≥–Ω–æ–∑–∞</h2>
    <div id="chat-box"></div>
    <form id="chat-form">
      <input type="text" id="message" placeholder="–í–≤–µ–¥–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ" required />
      <button type="submit">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
    </form>
  </div>
<script>
  const params = new URLSearchParams(window.location.search);
  const team1 = params.get('team1');
  const team2 = params.get('team2');

  function getLogoUrl(teamName) {
    const logos = {
      '–ê–º–∫–∞—Ä': '/amkar.png',
      '–ê–Ω–∂–∏': '/anji.png',
      '–ê—Ä—Å–µ–Ω–∞–ª': '/arsenal.png',
      '–ê—Ö–º–∞—Ç': '/ahmat.png',
      '–î–∏–Ω–∞–º–æ': '/dinamo.png',
      '–ï–Ω–∏—Å–µ–π': '/enisey.png',
      '–ó–µ–Ω–∏—Ç': '/zenit.png',
      '–ö–°': '/ks.png',
      '–ö—Ä–∞—Å–Ω–æ–¥–∞—Ä': '/krasnodar.png',
      '–ö—É–±–∞–Ω—å': '/kuban.png',
      '–õ–æ–∫–æ–º–æ—Ç–∏–≤': '/lokomotiv.png',
      '–ú–æ—Ä–¥–æ–≤–∏—è': '/mordovia.png',
      '–û—Ä–µ–Ω–±—É—Ä–≥': '/orenburg.png',
      '–†–æ—Å—Ç–æ–≤': '/rostov.png',
      '–†—É–±–∏–Ω': '/rubin.png',
      '–°–ö–ê': '/ska.png',
      '–°–ø–∞—Ä—Ç–∞–∫': '/spartak.png',
      '–¢–æ–º—å': '/tom.png',
      '–£—Ä–∞–ª': '/ural.png',
      '–£—Ñ–∞': '/ufa.png',
      '–¶–°–ö–ê': '/cska.png'
    };
    return logos[teamName] || '/default.png';
  }

  async function fetchForecast() {
    try {
      const response = await fetch('http://localhost:5000/predict', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ team1, team2 })
      });

      const data = await response.json();

      document.getElementById('team1-name').textContent = team1;
      document.getElementById('team1-win').textContent = `–ü–æ–±–µ–¥–∞: ${data[team1]["–ü–æ–±–µ–¥–∞"]}%`;
      document.getElementById('team1-logo').src = getLogoUrl(team1);

      document.getElementById('team2-name').textContent = team2;
      document.getElementById('team2-win').textContent = `–ü–æ–±–µ–¥–∞: ${data[team2]["–ü–æ–±–µ–¥–∞"]}%`;
      document.getElementById('team2-logo').src = getLogoUrl(team2);

      document.getElementById('draw-value').textContent = `–ù–∏—á—å—è: ${data[team1]["–ù–∏—á—å—è"]}%`;

      const win1 = parseFloat(data[team1]["–ü–æ–±–µ–¥–∞"]);
      const win2 = parseFloat(data[team2]["–ü–æ–±–µ–¥–∞"]);
      const draw = parseFloat(data[team1]["–ù–∏—á—å—è"]);
      renderChart(win1, win2, draw);

      renderComparisonChart(
        data[team1]["xG"], data[team2]["xG"],
        data[team1]["PPDA"], data[team2]["PPDA"]
      );

      renderPassChart(
        data[team1]["–ü–µ—Ä–µ–¥–∞—á–∏"],
        data[team2]["–ü–µ—Ä–µ–¥–∞—á–∏"],
        data[team1]["–¢–æ—á–Ω—ã–µ –ø–µ—Ä–µ–¥–∞—á–∏"],
        data[team2]["–¢–æ—á–Ω—ã–µ –ø–µ—Ä–µ–¥–∞—á–∏"]
      );
      renderAttackChart(
        data[team1]["–£–¥–∞—Ä—ã"],
        data[team2]["–£–¥–∞—Ä—ã"],
        data[team1]["–£–¥–∞—Ä—ã –≤ —Å—Ç–≤–æ—Ä"],
        data[team2]["–£–¥–∞—Ä—ã –≤ —Å—Ç–≤–æ—Ä"],
        data[team1]["–ù–∞–≤–µ—Å—ã"],
        data[team2]["–ù–∞–≤–µ—Å—ã"]
);

        const forms = {
        "–ó–µ–Ω–∏—Ç":"¬´–ó–µ–Ω–∏—Ç¬ª —É–≤–µ—Ä–µ–Ω–Ω–æ –ª–∏–¥–∏—Ä—É–µ—Ç –≤ —á–µ–º–ø–∏–æ–Ω–∞—Ç–µ, –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É—è –≤—ã—Å–æ–∫—É—é —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏–≤–Ω–æ—Å—Ç—å –∏ –∫–æ–Ω—Ç—Ä–æ–ª—å –º—è—á–∞. –ö–æ–º–∞–Ω–¥–∞ —Å—Ç–∞–±–∏–ª—å–Ω–æ –æ–±—ã–≥—Ä—ã–≤–∞–µ—Ç —Å–æ–ø–µ—Ä–Ω–∏–∫–æ–≤ –∫–∞–∫ –¥–æ–º–∞, —Ç–∞–∫ –∏ –Ω–∞ –≤—ã–µ–∑–¥–µ. –û—Ç–ª–∏—á–∞–µ—Ç—Å—è —Å–∏–ª—å–Ω–æ–π –ª–∏–Ω–∏–µ–π –ø–æ–ª—É–∑–∞—â–∏—Ç—ã, —Å–ø–æ—Å–æ–±–Ω–æ–π —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ –ø—Ä–æ–¥–≤–∏–≥–∞—Ç—å –º—è—á. xG –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≤—ã—Å–æ–∫—É—é —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é –º–æ–º–µ–Ω—Ç–æ–≤. PPDA —Ç–∞–∫–∂–µ —Å–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤—É–µ—Ç –æ —Ö–æ—Ä–æ—à–µ–º –ø—Ä–µ—Å—Å–∏–Ω–≥–µ.",
        "–°–ø–∞—Ä—Ç–∞–∫":"¬´–°–ø–∞—Ä—Ç–∞–∫¬ª –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç –Ω–µ—Å—Ç–∞–±–∏–ª—å–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã, —á–µ—Ä–µ–¥—É—è –ø–æ–±–µ–¥—ã —Å –ø–æ—Ä–∞–∂–µ–Ω–∏—è–º–∏. –ö–æ–º–∞–Ω–¥–∞ —á–∞—Å—Ç–æ –∏–≥—Ä–∞–µ—Ç –Ω–∞ –≤—Å—Ç—Ä–µ—á–Ω—ã—Ö –∫—É—Ä—Å–∞—Ö –∏ –¥–µ–ª–∞–µ—Ç —Å—Ç–∞–≤–∫—É –Ω–∞ –±—ã—Å—Ç—Ä—ã–µ –∞—Ç–∞–∫–∏. –ü—Ä–∏ —ç—Ç–æ–º –æ–±–æ—Ä–æ–Ω–∞ –¥–æ–ø—É—Å–∫–∞–µ—Ç –æ—à–∏–±–∫–∏, –æ—Å–æ–±–µ–Ω–Ω–æ –≤ –ø–æ–∑–∏—Ü–∏–æ–Ω–Ω–æ–π –∑–∞—â–∏—Ç–µ. –í –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –º–∞—Ç—á–∞—Ö –Ω–∞–±–ª—é–¥–∞–µ—Ç—Å—è –ø—Ä–æ–≥—Ä–µ—Å—Å –≤ —Ç–æ—á–Ω–æ—Å—Ç–∏ –ø–µ—Ä–µ–¥–∞—á. PPDA –≤—ã—à–µ —Å—Ä–µ–¥–Ω–µ–≥–æ –ø–æ –ª–∏–≥–µ.",
        "–¶–°–ö–ê":"¬´–¶–°–ö–ê¬ª –≤—ã—Å—Ç—É–ø–∞–µ—Ç —Å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º —É—Å–ø–µ—Ö–æ–º, –Ω–æ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç —à–∞–Ω—Å—ã –Ω–∞ –≤–µ—Ä—Ö–Ω–∏–µ —Å—Ç—Ä–æ—á–∫–∏ —Ç–∞–±–ª–∏—Ü—ã. –ö–æ–º–∞–Ω–¥–∞ –∞–∫—Ç–∏–≤–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ñ–ª–∞–Ω–≥–æ–≤—ã–µ –∞—Ç–∞–∫–∏ –∏ –Ω–∞–≤–µ—Å—ã. xG –∫–æ–º–∞–Ω–¥—ã –æ—Å—Ç–∞—ë—Ç—Å—è –Ω–∞ —Å—Ä–µ–¥–Ω–µ–º —É—Ä–æ–≤–Ω–µ, –Ω–æ —Ç–æ—á–Ω–æ—Å—Ç—å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —Å—Ç—Ä–∞–¥–∞–µ—Ç. PPDA —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ —É–º–µ—Ä–µ–Ω–Ω—ã–π –ø—Ä–µ—Å—Å–∏–Ω–≥. –í –∑–∞—â–∏—Ç–µ –∫–æ–º–∞–Ω–¥–∞ –∏–≥—Ä–∞–µ—Ç –∫–æ–º–ø–∞–∫—Ç–Ω–æ.",
        "–õ–æ–∫–æ–º–æ—Ç–∏–≤":"¬´–õ–æ–∫–æ–º–æ—Ç–∏–≤¬ª –ø—Ä–æ–≤–æ–¥–∏—Ç —Å–µ–∑–æ–Ω –Ω–µ—É–≤–µ—Ä–µ–Ω–Ω–æ, –∏—Å–ø—ã—Ç—ã–≤–∞—è —Ç—Ä—É–¥–Ω–æ—Å—Ç–∏ –≤ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏–∏ –∞—Ç–∞–∫–∏. xG –æ—Å—Ç–∞—ë—Ç—Å—è –Ω–∏–∑–∫–∏–º, –∞ –º–æ–º–µ–Ω—Ç–æ–≤ —É –≤–æ—Ä–æ—Ç —Å–æ–ø–µ—Ä–Ω–∏–∫–∞ —Å–æ–∑–¥–∞—ë—Ç—Å—è –º–∞–ª–æ. –¢–µ–º –Ω–µ –º–µ–Ω–µ–µ, –∫–æ–º–∞–Ω–¥–∞ —É—Å–ø–µ—à–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç—ã. PPDA —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ –Ω–∏–∑–∫–∏–π –ø—Ä–µ—Å—Å–∏–Ω–≥. –ó–∞—á–∞—Å—Ç—É—é –ø–æ–ª–∞–≥–∞—é—Ç—Å—è –Ω–∞ –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è –∏–≥—Ä–æ–∫–æ–≤.",
        "–î–∏–Ω–∞–º–æ":"¬´–î–∏–Ω–∞–º–æ¬ª –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç –ø—Ä–æ–≥—Ä–µ—Å—Å –≤ –∞—Ç–∞–∫—É—é—â–∏—Ö –¥–µ–π—Å—Ç–≤–∏—è—Ö. –ö–æ–º–∞–Ω–¥–∞ —É–≤–µ–ª–∏—á–∏–ª–∞ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏ –ø–æ —É–¥–∞—Ä–∞–º –∏ –≤–ª–∞–¥–µ–Ω–∏—é –º—è—á–æ–º. xG —Å—Ç–∞–±–∏–ª—å–Ω–æ —Ä–∞—Å—Ç—ë—Ç, –æ—Å–æ–±–µ–Ω–Ω–æ –≤ –¥–æ–º–∞—à–Ω–∏—Ö –º–∞—Ç—á–∞—Ö. –í –∑–∞—â–∏—Ç–µ –∏–Ω–æ–≥–¥–∞ –≤–æ–∑–Ω–∏–∫–∞—é—Ç –ø—Ä–æ–±–ª–µ–º—ã –ø—Ä–∏ –±—ã—Å—Ç—Ä—ã—Ö –∫–æ–Ω—Ç—Ä–∞—Ç–∞–∫–∞—Ö. PPDA —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ —Å—Ä–µ–¥–Ω–∏–π —É—Ä–æ–≤–µ–Ω—å –¥–∞–≤–ª–µ–Ω–∏—è.",
        "–ö—Ä–∞—Å–Ω–æ–¥–∞—Ä":"¬´–ö—Ä–∞—Å–Ω–æ–¥–∞—Ä¬ª —É–≤–µ—Ä–µ–Ω–Ω–æ –≤—ã—Å—Ç—É–ø–∞–µ—Ç –ø—Ä–æ—Ç–∏–≤ –∫–æ–º–∞–Ω–¥ –∏–∑ –Ω–∏–∂–Ω–µ–π —á–∞—Å—Ç–∏ —Ç–∞–±–ª–∏—Ü—ã. –ê—Ç–∞–∫—É—é—â–∞—è –ª–∏–Ω–∏—è –¥–µ–π—Å—Ç–≤—É–µ—Ç —Ä–∞–∑–Ω–æ–æ–±—Ä–∞–∑–Ω–æ, —Å –∞–∫—Ü–µ–Ω—Ç–æ–º –Ω–∞ –∫–æ—Ä–æ—Ç–∫–∏–π –ø–∞—Å. xG –∏ —Ç–æ—á–Ω—ã–µ –ø–µ—Ä–µ–¥–∞—á–∏ –æ—Å—Ç–∞—é—Ç—Å—è –Ω–∞ –≤—ã—Å–æ–∫–æ–º —É—Ä–æ–≤–Ω–µ. –í –æ–±–æ—Ä–æ–Ω–µ –±—ã–≤–∞—é—Ç –ø—Ä–æ–≤–∞–ª—ã –ø—Ä–∏ –Ω–∞–≤–µ—Å–∞—Ö. –ö–æ–º–∞–Ω–¥–∞ –∞–∫—Ç–∏–≤–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø—Ä–µ—Å—Å–∏–Ω–≥.",
        "–†—É–±–∏–Ω":"¬´–†—É–±–∏–Ω¬ª –ø—Ä–æ–≤–æ–¥–∏—Ç —Å–µ–∑–æ–Ω —Å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º —É—Å–ø–µ—Ö–æ–º. –ö–æ–º–∞–Ω–¥–∞ —á–∞—Å—Ç–æ –∏–≥—Ä–∞–µ—Ç –≤—Ç–æ—Ä—ã–º –Ω–æ–º–µ—Ä–æ–º, –¥–µ–ª–∞—è —Å—Ç–∞–≤–∫—É –Ω–∞ –±—ã—Å—Ç—Ä—ã–µ –≤—ã–ø–∞–¥—ã. xG –æ—Å—Ç–∞—ë—Ç—Å—è –Ω–∞ –Ω–∏–∑–∫–æ–º —É—Ä–æ–≤–Ω–µ, –Ω–æ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —Ö–æ—Ä–æ—à–∞—è. PPDA —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ —Å–¥–µ—Ä–∂–∞–Ω–Ω—É—é –∏–≥—Ä—É –±–µ–∑ –∞–≥—Ä–µ—Å—Å–∏–≤–Ω–æ–≥–æ –ø—Ä–µ—Å—Å–∏–Ω–≥–∞.",
        "–ê—Ö–º–∞—Ç":"¬´–ê—Ö–º–∞—Ç¬ª –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≤–æ–ª–µ–≤—É—é –∏–≥—Ä—É, —á–∞—Å—Ç–æ —Å–ø–∞—Å–∞—è –º–∞—Ç—á–∏ –≤ –∫–æ–Ω—Ü–æ–≤–∫–∞—Ö. –û–±–æ—Ä–æ–Ω–∞ –Ω–∞–¥—ë–∂–Ω–∞ –ø—Ä–∏ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞—Ö, –Ω–æ —Å—Ç—Ä–∞–¥–∞–µ—Ç –æ—Ç –±—ã—Å—Ç—Ä—ã—Ö –∞—Ç–∞–∫. xG –≤—ã—à–µ —Å—Ä–µ–¥–Ω–µ–≥–æ, –æ—Å–æ–±–µ–Ω–Ω–æ –≤ –¥–æ–º–∞—à–Ω–∏—Ö –º–∞—Ç—á–∞—Ö. –ö–æ–º–∞–Ω–¥–∞ –¥–µ–ª–∞–µ—Ç —Å—Ç–∞–≤–∫—É –Ω–∞ —Ñ–∏–∑–∏—á–µ—Å–∫—É—é –º–æ—â—å –∏ –±–æ—Ä—å–±—É –≤ —Ü–µ–Ω—Ç—Ä–µ –ø–æ–ª—è.",
        "–†–æ—Å—Ç–æ–≤":"¬´–†–æ—Å—Ç–æ–≤¬ª –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç –∞—Ç–∞–∫—É—é—â–∏–π —Ñ—É—Ç–±–æ–ª —Å –±–æ–ª—å—à–∏–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º —É–¥–∞—Ä–æ–≤. –ö–æ–º–∞–Ω–¥–∞ —á–∞—Å—Ç–æ –∏–≥—Ä–∞–µ—Ç –Ω–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç, –º–∏–Ω–∏–º–∏–∑–∏—Ä—É—è —Ä–∏—Å–∫–∏. PPDA —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ –≤—ã—Å–æ–∫–∏–π –ø—Ä–µ—Å—Å–∏–Ω–≥. xG —Å—Ç–∞–±–∏–ª–µ–Ω –∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ö–æ—Ä–æ—à—É—é —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é. –í –æ–±–æ—Ä–æ–Ω–µ –∫–æ–º–∞–Ω–¥–∞ –¥–µ–π—Å—Ç–≤—É–µ—Ç –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞–Ω–Ω–æ.",
        "–û—Ä–µ–Ω–±—É—Ä–≥":"¬´–û—Ä–µ–Ω–±—É—Ä–≥¬ª –±–æ—Ä–µ—Ç—Å—è –∑–∞ –≤—ã–∂–∏–≤–∞–Ω–∏–µ, –Ω–æ –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏ –ø—Ä–µ–ø–æ–¥–Ω–æ—Å–∏—Ç —Å—é—Ä–ø—Ä–∏–∑—ã —Å–∏–ª—å–Ω—ã–º —Å–æ–ø–µ—Ä–Ω–∏–∫–∞–º. –ò–≥—Ä–∞ –æ—Å–Ω–æ–≤—ã–≤–∞–µ—Ç—Å—è –Ω–∞ –æ–±–æ—Ä–æ–Ω–∏—Ç–µ–ª—å–Ω–æ–º —Ñ—É—Ç–±–æ–ª–µ –∏ —Ä–µ–¥–∫–∏—Ö –∫–æ–Ω—Ç—Ä–∞—Ç–∞–∫–∞—Ö. xG –Ω–∏–∑–∫–∏–π, —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è —Å—Ç—Ä–∞–¥–∞–µ—Ç. PPDA –≤—ã—Å–æ–∫–∏–π –∏–∑-–∑–∞ –ø–ª–æ—Ç–Ω–æ–π –æ–±–æ—Ä–æ–Ω—ã.",
        "–ö—Ä—ã–ª—å—è –°–æ–≤–µ—Ç–æ–≤":"¬´–ö–°¬ª –¥–µ–ª–∞–µ—Ç —Å—Ç–∞–≤–∫—É –Ω–∞ –º–æ–ª–æ–¥—ë–∂–Ω—ã–π —Å–æ—Å—Ç–∞–≤ –∏ —Ä–∞–∑–≤–∏—Ç–∏–µ –∫–æ–º–±–∏–Ω–∞—Ü–∏–æ–Ω–Ω–æ–π –∏–≥—Ä—ã. –ù–µ—Å–º–æ—Ç—Ä—è –Ω–∞ –Ω–µ—Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å, –∫–æ–º–∞–Ω–¥–∞ –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç –≤—ã—Å–æ–∫–∏–π —Ç–µ–º–ø. xG –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø—Ä–æ–≥—Ä–µ—Å—Å. –ö–æ–º–∞–Ω–¥–∞ –∞–∫—Ç–∏–≤–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –Ω–∞–≤–µ—Å—ã –∏ —Å—Ç–∞–Ω–¥–∞—Ä—Ç—ã.",
        "–£—Ä–∞–ª":"¬´–£—Ä–∞–ª¬ª –ø—Ä–µ–¥–ø–æ—á–∏—Ç–∞–µ—Ç –ø–ª–æ—Ç–Ω—É—é –æ–±–æ—Ä–æ–Ω—É –∏ –∏–≥—Ä—É –≤—Ç–æ—Ä—ã–º –Ω–æ–º–µ—Ä–æ–º. xG –æ—Å—Ç–∞—ë—Ç—Å—è –Ω–∏–∑–∫–∏–º, –Ω–æ –∫–æ–º–∞–Ω–¥–∞ —É—Å–ø–µ—à–Ω–æ —Ä–µ–∞–ª–∏–∑—É–µ—Ç —Ä–µ–¥–∫–∏–µ –º–æ–º–µ–Ω—Ç—ã. PPDA –æ–¥–∏–Ω –∏–∑ —Å–∞–º—ã—Ö –Ω–∏–∑–∫–∏—Ö –≤ –ª–∏–≥–µ, —á—Ç–æ –≥–æ–≤–æ—Ä–∏—Ç –æ –ø–∞—Å—Å–∏–≤–Ω–æ–π –º–æ–¥–µ–ª–∏ –∏–≥—Ä—ã.",
        "–£—Ñ–∞":"¬´–£—Ñ–∞¬ª –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç —Å—Ç–∞–±–∏–ª—å–Ω—É—é –∏–≥—Ä—É –≤ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –º–∞—Ç—á–∞—Ö. –ö–æ–º–∞–Ω–¥–∞ —É—Å–ø–µ—à–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ñ–ª–∞–Ω–≥–∏ –¥–ª—è –∞—Ç–∞–∫, –∞ –≤—ã—Å–æ–∫–∏–π –ø—Ä–µ—Å—Å–∏–Ω–≥ –ø—Ä–∏–Ω–æ—Å–∏—Ç –ø–ª–æ–¥—ã. –ü–æ–±–µ–¥–∞ –Ω–∞–¥ —Å–∏–ª—å–Ω—ã–º —Å–æ–ø–µ—Ä–Ω–∏–∫–æ–º –ø–æ–∫–∞–∑–∞–ª–∞ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ –±–æ—Ä—å–±–µ –∑–∞ –µ–≤—Ä–æ–∫—É–±–∫–∏. –ó–∞—â–∏—Ç–∞ –¥–µ–π—Å—Ç–≤—É–µ—Ç —Å–ª–∞–∂–µ–Ω–Ω–æ, –Ω–æ –µ—Å—Ç—å –ø—Ä–æ–±–ª–µ–º—ã –ø—Ä–∏ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞—Ö.",
        "–¢–æ–º—å":"¬´–¢–æ–º—å¬ª –±–æ—Ä–µ—Ç—Å—è –∑–∞ –≤—ã–∂–∏–≤–∞–Ω–∏–µ, –ø–æ–ª–∞–≥–∞—è—Å—å –Ω–∞ –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞–Ω–Ω—É—é –æ–±–æ—Ä–æ–Ω—É. –ö–æ–º–∞–Ω–¥–∞ —Ä–µ–¥–∫–æ –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ—Ç –º—è—á –∏ –¥–µ–ª–∞–µ—Ç —Å—Ç–∞–≤–∫—É –Ω–∞ —Å—Ç–∞–Ω–¥–∞—Ä—Ç—ã. xG –Ω–∏–∑–∫–∏–π, –∞—Ç–∞–∫—É—é—â–∏—Ö –¥–µ–π—Å—Ç–≤–∏–π –º–∞–ª–æ. PPDA —Å—Ä–µ–¥–Ω–∏–π, —Å –ø–æ–ø—ã—Ç–∫–∞–º–∏ –ø—Ä–µ—Å—Å–∏–Ω–≥–∞ –≤ —Ü–µ–Ω—Ç—Ä–µ –ø–æ–ª—è.",
        "–°–ö–ê":"¬´–°–ö–ê¬ª –ø—Ä–æ–≤–æ–¥–∏—Ç –Ω–µ—Å—Ç–∞–±–∏–ª—å–Ω—ã–π —Å–µ–∑–æ–Ω, —á–µ—Ä–µ–¥—É—è —É—Å–ø–µ—à–Ω—ã–µ –º–∞—Ç—á–∏ —Å –ø—Ä–æ–≤–∞–ª—å–Ω—ã–º–∏. –ö–æ–º–∞–Ω–¥–∞ –∞–∫—Ç–∏–≤–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ñ–ª–∞–Ω–≥–∏ –∏ –¥–∞–ª—å–Ω–∏–µ —É–¥–∞—Ä—ã. xG –∏ —Ç–æ—á–Ω–æ—Å—Ç—å –æ—Å—Ç–∞–≤–ª—è—é—Ç –∂–µ–ª–∞—Ç—å –ª—É—á—à–µ–≥–æ. PPDA –≤—ã—Å–æ–∫–∏–π, —á–∞—Å—Ç–æ –ø—Ä–µ—Å—Å–∏–Ω–≥—É—é—Ç –Ω–∞ —á—É–∂–æ–π –ø–æ–ª–æ–≤–∏–Ω–µ –ø–æ–ª—è.",
        "–ê–Ω–∂–∏":"¬´–ê–Ω–∂–∏¬ª —á–∞—Å—Ç–æ –∏—Å–ø—ã—Ç—ã–≤–∞–µ—Ç —Ç—Ä—É–¥–Ω–æ—Å—Ç–∏ –ø—Ä–∏ –ø–µ—Ä–µ—Ö–æ–¥–∞—Ö –∏–∑ –æ–±–æ—Ä–æ–Ω—ã –≤ –∞—Ç–∞–∫—É. –ò–≥—Ä–∞ —Å—Ç—Ä–æ–∏—Ç—Å—è –≤–æ–∫—Ä—É–≥ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∫–ª—é—á–µ–≤—ã—Ö –∏–≥—Ä–æ–∫–æ–≤. xG –∏ PPDA –Ω–∏–∑–∫–∏–µ. –ö–æ–º–∞–Ω–¥–∞ –∏–≥—Ä–∞–µ—Ç –æ—Ç –æ–±–æ—Ä–æ–Ω—ã –∏ –¥–µ–ª–∞–µ—Ç —Å—Ç–∞–≤–∫—É –Ω–∞ —Å—Ç–∞–Ω–¥–∞—Ä—Ç—ã –∏ –æ—à–∏–±–∫–∏ —Å–æ–ø–µ—Ä–Ω–∏–∫–∞.",
        "–ê–º–∫–∞—Ä":"¬´–ê–º–∫–∞—Ä¬ª —É–≤–µ—Ä–µ–Ω–Ω–æ —á—É–≤—Å—Ç–≤—É–µ—Ç —Å–µ–±—è –≤ –º–∞—Ç—á–∞—Ö —Å —Å–µ—Ä–µ–¥–Ω—è–∫–∞–º–∏. –ö–æ–º–∞–Ω–¥–∞ –¥–µ–π—Å—Ç–≤—É–µ—Ç –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞–Ω–Ω–æ –∏ –Ω–∞–¥—ë–∂–Ω–æ –≤ –∑–∞—â–∏—Ç–µ. –ê—Ç–∞–∫–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ —Å–∫–æ—Ä–æ—Å—Ç—è—Ö. xG –Ω–µ —Å–∞–º—ã–π –≤—ã—Å–æ–∫–∏–π, –Ω–æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —Ö–≤–∞—Ç–∞–µ—Ç. PPDA –Ω–∞ —Ö–æ—Ä–æ—à–µ–º —É—Ä–æ–≤–Ω–µ.",
        "–ê—Ä—Å–µ–Ω–∞–ª":"¬´–ê—Ä—Å–µ–Ω–∞–ª¬ª –¥–µ–ª–∞–µ—Ç —Å—Ç–∞–≤–∫—É –Ω–∞ –∏–≥—Ä—É –≤ –ø–∞—Å –∏ –∫–æ–Ω—Ç—Ä–æ–ª—å –º—è—á–∞. –ö–æ–º–∞–Ω–¥–∞ –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç —Å—Ç–∞–±–∏–ª—å–Ω—ã–π –ø—Ä–µ—Å—Å–∏–Ω–≥. xG —Å—Ç–∞–±–∏–ª—å–Ω–æ –≤—ã—Å–æ–∫–∏–π, –æ—Å–æ–±–µ–Ω–Ω–æ –≤ –¥–æ–º–∞—à–Ω–∏—Ö –º–∞—Ç—á–∞—Ö. –û–±–æ—Ä–æ–Ω–∞ —É—è–∑–≤–∏–º–∞ –ø—Ä–∏ –±—ã—Å—Ç—Ä—ã—Ö –∞—Ç–∞–∫–∞—Ö —Å–æ–ø–µ—Ä–Ω–∏–∫–∞.",
        "–ö—É–±–∞–Ω—å":"¬´–ö—É–±–∞–Ω—å¬ª –∏–≥—Ä–∞–µ—Ç —Å –∞–∫—Ü–µ–Ω—Ç–æ–º –Ω–∞ –æ–±–æ—Ä–æ–Ω—É. xG –æ–¥–∏–Ω –∏–∑ —Å–∞–º—ã—Ö –Ω–∏–∑–∫–∏—Ö, –∫–æ–º–∞–Ω–¥–∞ —Ä–µ–¥–∫–æ –±—å—ë—Ç –ø–æ –≤–æ—Ä–æ—Ç–∞–º. PPDA —Å—Ä–µ–¥–Ω–∏–π. –ì–ª–∞–≤–Ω–∞—è —Å–∏–ª–∞ ‚Äî –±–æ—Ä—å–±–∞ –≤ —Ü–µ–Ω—Ç—Ä–µ –ø–æ–ª—è –∏ —Å—Ç–∞–Ω–¥–∞—Ä—Ç—ã.",
        "–ú–æ—Ä–¥–æ–≤–∏—è":"¬´–ú–æ—Ä–¥–æ–≤–∏—è¬ª –±–æ—Ä–µ—Ç—Å—è –∑–∞ –≤—ã–∂–∏–≤–∞–Ω–∏–µ, –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É—è —Ö–∞—Ä–∞–∫—Ç–µ—Ä –≤ –∫–∞–∂–¥–æ–º –º–∞—Ç—á–µ. PPDA –Ω–∏–∑–∫–∏–π, –∫–æ–º–∞–Ω–¥–∞ –∏–≥—Ä–∞–µ—Ç –æ—Ç –æ–±–æ—Ä–æ–Ω—ã. xG —Å—Ç–∞–±–∏–ª—å–Ω–æ –Ω–∏–∑–∫–∏–π. –û—Å–Ω–æ–≤–Ω–∞—è —É–≥—Ä–æ–∑–∞ ‚Äî —Å—Ç–∞–Ω–¥–∞—Ä—Ç—ã.",
        "–ï–Ω–∏—Å–µ–π":"¬´–ï–Ω–∏—Å–µ–π¬ª —á–∞—Å—Ç–æ —É—Å—Ç—É–ø–∞–µ—Ç –≤ –±–æ—Ä—å–±–µ –∑–∞ –∏–Ω–∏—Ü–∏–∞—Ç–∏–≤—É. –ê—Ç–∞–∫–∞ –≤—ã–≥–ª—è–¥–∏—Ç –±–ª–µ–∫–ª–æ, –Ω–æ –æ–±–æ—Ä–æ–Ω–∞ –¥–µ–π—Å—Ç–≤—É–µ—Ç —Å–ª–∞–∂–µ–Ω–Ω–æ. PPDA –Ω–∏–∑–∫–∏–π. xG –∏ –Ω–∞–≤–µ—Å—ã –Ω–∞ –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–º —É—Ä–æ–≤–Ω–µ. –î–µ–ª–∞—é—Ç —Å—Ç–∞–≤–∫—É –Ω–∞ –Ω–∏—á–µ–π–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç.",
        "–õ–∞—Ü–∏–æ":"¬´–õ–∞—Ü–∏–æ¬ª –∞–∫—Ç–∏–≤–Ω–æ –∞—Ç–∞–∫—É–µ—Ç –∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —à–∏—Ä–∏–Ω—É –ø–æ–ª—è. xG —Å—Ç–∞–±–∏–ª—å–Ω–æ –≤—ã—Å–æ–∫, –∫–æ–º–∞–Ω–¥–∞ —Å–æ–∑–¥–∞—ë—Ç –º–Ω–æ–∂–µ—Å—Ç–≤–æ –º–æ–º–µ–Ω—Ç–æ–≤. PPDA —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ –≤—ã—Å–æ–∫–∏–π –ø—Ä–µ—Å—Å–∏–Ω–≥. –ö–æ–º–∞–Ω–¥–∞ —É–≤–µ—Ä–µ–Ω–Ω–æ –∏–¥—ë—Ç –≤ –≤–µ—Ä—Ö–Ω–µ–π —á–∞—Å—Ç–∏ —Ç–∞–±–ª–∏—Ü—ã.",
        "–ù–∞–ø–æ–ª–∏":"¬´–ù–∞–ø–æ–ª–∏¬ª –ª–∏–¥–∏—Ä—É–µ—Ç –≤ —á–µ–º–ø–∏–æ–Ω–∞—Ç–µ, –ø–æ–∫–∞–∑—ã–≤–∞—è –∑—Ä–µ–ª—É—é –∏–≥—Ä—É. xG –∏ –≤–ª–∞–¥–µ–Ω–∏–µ ‚Äî –ª—É—á—à–∏–µ –≤ –ª–∏–≥–µ. –ö–æ–º–∞–Ω–¥–∞ –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ—Ç —Ç–µ–º–ø, –∞–∫—Ç–∏–≤–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ü–µ–Ω—Ç—Ä –ø–æ–ª—è. PPDA –≤—ã—Å–æ–∫–∏–π, –∞–∫—Ç–∏–≤–Ω–æ –ø—Ä–µ—Å—Å–∏–Ω–≥—É—é—Ç –ø–æ—Å–ª–µ –ø–æ—Ç–µ—Ä–∏ –º—è—á–∞.",
        "–ú–∏–ª–∞–Ω":"¬´–ú–∏–ª–∞–Ω¬ª –≤–∞—Ä—å–∏—Ä—É–µ—Ç —Å—Ç–∏–ª—å –æ—Ç –º–∞—Ç—á–∞ –∫ –º–∞—Ç—á—É. xG –≤—ã—à–µ —Å—Ä–µ–¥–Ω–µ–≥–æ, –∫–æ–º–∞–Ω–¥–∞ –∞–∫—Ç–∏–≤–Ω–æ –∫–æ–º–±–∏–Ω–∏—Ä—É–µ—Ç –≤ –∞—Ç–∞–∫–µ. PPDA –Ω–∞ –≤—ã—Å–æ–∫–æ–º —É—Ä–æ–≤–Ω–µ. –û–±–æ—Ä–æ–Ω–∞ —Å—Ç–∞–±–∏–ª—å–Ω–∞, –Ω–æ —É—è–∑–≤–∏–º–∞ –ø—Ä–æ—Ç–∏–≤ –Ω–∞–≤–µ—Å–æ–≤.",
        "–ò–Ω—Ç–µ—Ä":"¬´–ò–Ω—Ç–µ—Ä¬ª —Å—Ç–∞–±–∏–ª–µ–Ω –≤ –æ–±–æ—Ä–æ–Ω–µ –∏ –∫—Ä–∞–π–Ω–µ –æ–ø–∞—Å–µ–Ω –ø—Ä–∏ –±—ã—Å—Ç—Ä—ã—Ö –∞—Ç–∞–∫–∞—Ö. xG —Å—Ç–∞–±–∏–ª—å–Ω–æ –≤—ã—Å–æ–∫–∏–π, PPDA —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ –∞–≥—Ä–µ—Å—Å–∏–≤–Ω—ã–π –ø—Ä–µ—Å—Å–∏–Ω–≥. –ö–æ–º–∞–Ω–¥–∞ –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç –∑—Ä–µ–ª—É—é –∏ –≤—ã—Å—Ç—Ä–æ–µ–Ω–Ω—É—é –∏–≥—Ä—É. –í –∞—Ç–∞–∫–µ ‚Äî –∞–∫—Ü–µ–Ω—Ç –Ω–∞ —Ü–µ–Ω—Ç—Ä –ø–æ–ª—è.",
      };

      document.getElementById("team1-form-title").textContent = "–¢–µ–∫—É—â–∞—è —Ñ–æ—Ä–º–∞: " + team1;
      document.getElementById("team1-form").textContent = forms[team1] || "–ù–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Ç–µ–∫—É—â–µ–π —Ñ–æ—Ä–º–µ –∫–æ–º–∞–Ω–¥—ã.";

      document.getElementById("team2-form-title").textContent = "–¢–µ–∫—É—â–∞—è —Ñ–æ—Ä–º–∞: " + team2;
      document.getElementById("team2-form").textContent = forms[team2] || "–ù–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Ç–µ–∫—É—â–µ–π —Ñ–æ—Ä–º–µ –∫–æ–º–∞–Ω–¥—ã.";

    } catch (err) {
      alert("–û—à–∏–±–∫–∞ –ø–æ–ª—É—á–µ–Ω–∏—è –ø—Ä–æ–≥–Ω–æ–∑–∞");
    }
  }

  fetchForecast();

  function renderChart(win1, win2, draw) {
    const ctx = document.getElementById('forecastChart').getContext('2d');
    new Chart(ctx, {
      type: 'doughnut',
      data: {
        labels: [team1 + ' –ü–æ–±–µ–¥–∞', '–ù–∏—á—å—è', team2 + ' –ü–æ–±–µ–¥–∞'],
        datasets: [{
          data: [win1, draw, win2],
          backgroundColor: ['#F0705A', '#888', '#4CAF50'],
          borderWidth: 1
        }]
      },
      options: {
        plugins: {
          legend: {
            position: 'bottom',
            labels: { color: '#eee' }
          }
        }
      }
    });
  }

  function renderComparisonChart(xg1, xg2, ppda1, ppda2) {
    const ctx = document.getElementById('comparisonChart').getContext('2d');
    new Chart(ctx, {
      type: 'bar',
      data: {
        labels: ['xG', 'PPDA'],
        datasets: [
          {
            label: team1,
            data: [xg1, ppda1],
            backgroundColor: '#F0705A'
          },
          {
            label: team2,
            data: [xg2, ppda2],
            backgroundColor: '#4CAF50'
          }
        ]
      },
      options: {
        responsive: true,
        plugins: {
          legend: {
            labels: { color: '#eee' }
          }
        },
        scales: {
          y: { ticks: { color: '#eee' } },
          x: { ticks: { color: '#eee' } }
        }
      }
    });
  }

  function renderPassChart(pass1, pass2, accPass1, accPass2) {
    const ctx = document.getElementById('detailChart').getContext('2d'); // üí° FIX: correct ID
    new Chart(ctx, {
      type: 'bar',
      data: {
        labels: ['–ü–µ—Ä–µ–¥–∞—á–∏', '–¢–æ—á–Ω—ã–µ –ø–µ—Ä–µ–¥–∞—á–∏'],
        datasets: [
          {
            label: team1,
            data: [pass1, accPass1],
            backgroundColor: '#F0705A'
          },
          {
            label: team2,
            data: [pass2, accPass2],
            backgroundColor: '#4CAF50'
          }
        ]
      },
      options: {
        plugins: {
          legend: {
            labels: { color: '#eee' }
          },
          title: {
            display: false,
            color: '#F0705A',
            font: { size: 18 }
          }
        },
        scales: {
          y: { ticks: { color: '#eee' } },
          x: { ticks: { color: '#eee' } }
        }
      }
    });
  }
  function renderAttackChart(shots1, shots2, shotsOn1, shotsOn2, crosses1, crosses2) {
  const ctx = document.getElementById('attackChart').getContext('2d');
  new Chart(ctx, {
    type: 'bar',
    data: {
      labels: ['–£–¥–∞—Ä—ã', '–£–¥–∞—Ä—ã –≤ —Å—Ç–≤–æ—Ä', '–ù–∞–≤–µ—Å—ã'],
      datasets: [
        {
          label: team1,
          data: [shots1, shotsOn1, crosses1],
          backgroundColor: '#F0705A'
        },
        {
          label: team2,
          data: [shots2, shotsOn2, crosses2],
          backgroundColor: '#4CAF50'
        }
      ]
    },
    options: {
      plugins: {
        legend: {
          labels: { color: '#eee' }
        },
        title: {
          display: false,
          text: '–ê—Ç–∞–∫–∏ –∏ –Ω–∞–≤–µ—Å—ã',
          color: '#F0705A',
          font: { size: 18 }
        }
      },
      scales: {
        y: { ticks: { color: '#eee' } },
        x: { ticks: { color: '#eee' } }
      }
    }
  });
}
const chatBox = document.getElementById("chat-box");
const chatForm = document.getElementById("chat-form");
const messageInput = document.getElementById("message");
const chatParams = new URLSearchParams(window.location.search);
const team1Id = chatParams.get("team1Id");
const team2Id = chatParams.get("team2Id");

let chatId = null;
let userId = null;

async function initChat() {
  const res = await fetch(`/forecast/chatId?team1Id=${team1Id}&team2Id=${team2Id}`);
  const data = await res.json();
  chatId = data.chatId;
  userId = data.userId;

  loadMessages();
  setInterval(loadMessages, 5000);
}

async function loadMessages() {
  if (!chatId) return;
  const res = await fetch(`/chat/comments/${chatId}`);
  const data = await res.json();
  chatBox.innerHTML = "";
  data.forEach(comment => {
    const div = document.createElement("div");
    div.classList.add("chat-message");
    div.innerHTML = `<strong>${comment.username}:</strong> ${comment.message}`;
    chatBox.appendChild(div);
  });
  chatBox.scrollTop = chatBox.scrollHeight;
}

chatForm.addEventListener("submit", function (e) {
  e.preventDefault();
  const message = messageInput.value.trim();
  if (!message || !chatId || !userId) return;
  fetch("/chat/send", {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify({ chatId, userId, message })
  }).then(() => {
    messageInput.value = "";
    loadMessages();
  });
});

initChat();
</script>
</body>
</html>